# PNP-014: Create notification_loader.py Module

**Status**: ðŸ”´ To Do  
**Phase**: Phase 3 - JSON-Driven Notification System  
**Priority**: High  
**Assignee**: TBD

---

## Description

Create the `NotificationLoader` class module that loads alerts from JSON files, simulates API responses, and supports multiple playback modes (streaming, static, replay).

## Acceptance Criteria

- [ ] File `src/interface/chainlit/notification_loader.py` exists
- [ ] Implements `NotificationLoader` class with:
  - [ ] `__init__(json_path=None)` - accepts optional JSON path, defaults to `config/notifications/mock_alerts.json`
  - [ ] `get_settings()` - returns settings dict
  - [ ] `get_next_alert()` - returns next alert (streaming mode)
  - [ ] `get_all_alerts()` - returns all alerts (static mode)
  - [ ] `reset()` - resets to beginning
  - [ ] `reload()` - reloads JSON file
- [ ] Auto-creates default JSON if missing
- [ ] Validates JSON structure
- [ ] Adds dynamic fields (timestamp, ID) at runtime
- [ ] Implements singleton pattern for efficiency
- [ ] Includes proper error handling and logging

## Related Files

- `src/interface/chainlit/notification_loader.py` (to be created)
- `config/notifications/mock_alerts.json` (dependency)

## Dependencies

- PNP-012 (directory structure)
- PNP-013 (JSON file)

## Notes

See implementation plan section "3. JSON-Driven Notification System" for API specification and error handling requirements.

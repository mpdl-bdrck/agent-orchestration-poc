# PNP-010: Send Alerts as cl.Message with author="__NOTIFY__"

**Status**: ðŸ”´ To Do  
**Phase**: Phase 2 - Backend Logic (The Data Source)  
**Priority**: High  
**Assignee**: TBD

---

## Description

Ensure alerts are sent as Chainlit messages with the special `__NOTIFY__` author for DOM Bridge transport.

## Acceptance Criteria

- [ ] Messages use `author="__NOTIFY__"` (exact string)
- [ ] Messages contain JSON wrapped in code blocks
- [ ] JSON is properly formatted (valid JSON)
- [ ] Messages are sent via `cl.Message(...).send()`
- [ ] Messages don't appear in chat stream (hidden by CSS)
- [ ] Multiple alerts can be sent simultaneously
- [ ] Messages are sent asynchronously (non-blocking)

## Related Files

- `src/interface/chainlit/handlers.py` (update `_send_notification_message()` function)

## Dependencies

- PNP-009 (JSON payload formatting)

## Notes

The `__NOTIFY__` author is the key to the DOM Bridge - JavaScript watches for this signature. See implementation plan for message format.

# PNP-009: Send Alerts as cl.Message with System Author

**Status**: üî¥ To Do  
**Phase**: Phase 2 - Background Monitor (Native Messages)  
**Priority**: High  
**Assignee**: TBD

---

## Description

Create helper function `_send_alert_message()` that formats and sends alerts as Chainlit messages with visual distinction.

## Acceptance Criteria

- [ ] Function `_send_alert_message(alert: dict)` exists in `handlers.py`
- [ ] Formats alert content with:
  - [ ] Severity emoji (üö® critical, ‚ö†Ô∏è warning, ‚ÑπÔ∏è info)
  - [ ] Agent emoji and name
  - [ ] Issue type (formatted)
  - [ ] Campaign/Deal IDs when present
  - [ ] Alert details
- [ ] Uses `author="System"` for all alert messages
- [ ] Creates action buttons (delegated to PNP-012)
- [ ] Sends message via `cl.Message(...).send()`
- [ ] Logs alert send events

## Related Files

- `src/interface/chainlit/handlers.py` (update existing file)

## Dependencies

- PNP-012 (Action buttons)

## Notes

This function creates visually distinct alert messages that appear in the chat feed. See implementation plan section "2. Background Monitor" for message formatting details.

# PNP-019: Test End-to-End Flow (Alert â†’ Card â†’ Click â†’ Agent Response)

**Status**: ðŸ”´ To Do  
**Phase**: Phase 4 - Context Injection  
**Priority**: High  
**Assignee**: TBD

---

## Description

Test the complete flow from alert generation to agent response to ensure everything works together.

## Acceptance Criteria

- [ ] Alert sent from backend â†’ Card appears in sidebar
- [ ] Card is clickable
- [ ] Clicking card populates chat input with correct prompt
- [ ] Prompt format: `SYSTEM_TRIGGER: @{agent} {context}`
- [ ] Send button is clicked automatically
- [ ] Orchestrator receives and routes message correctly
- [ ] Appropriate agent responds to investigation
- [ ] Card is removed after click (optional)
- [ ] Multiple alerts can be clicked sequentially
- [ ] Flow works on desktop browsers
- [ ] Flow works on mobile devices

## Related Files

- All implementation files (integration test)

## Dependencies

- PNP-018 (triggerAgent function)
- PNP-020 (Integration complete)

## Notes

End-to-end testing is critical to verify the DOM Bridge architecture works correctly. See testing strategy in implementation plan.

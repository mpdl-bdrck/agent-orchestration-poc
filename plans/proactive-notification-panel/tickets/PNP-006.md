# PNP-006: Implement Click Handler to Trigger Agent Actions

**Status**: ðŸ”´ To Do  
**Phase**: Phase 1 - Frontend Assets (The Overlay)  
**Priority**: High  
**Assignee**: TBD

---

## Description

Implement the `triggerAgent()` function that simulates user input to trigger agent investigations.

## Acceptance Criteria

- [ ] `window.triggerAgent(agent, context)` function exists
- [ ] Finds chat textarea (`textarea#chat-input`)
- [ ] Finds send button (`button[aria-label="Send"]`)
- [ ] Formats prompt as `SYSTEM_TRIGGER: @{agent} {context}`
- [ ] Sets textarea value using React-friendly method:
  - [ ] Uses native value setter
  - [ ] Dispatches input event for React compatibility
- [ ] Simulates send button click
- [ ] Handles missing elements gracefully (logs error)
- [ ] Optional: Removes card after triggering

## Related Files

- `public/notifications.js` (update)

## Dependencies

- PNP-005 (Card rendering)

## Notes

This function bridges the DOM overlay to Chainlit's chat input. Must be React-compatible. See implementation plan section "4. Context Injection" and consultant's plan for details.

# PNP-018: Implement Context Injection for "Fix Issue" Action

**Status**: ðŸ”´ To Do  
**Phase**: Phase 4 - Action Callbacks  
**Priority**: High  
**Assignee**: TBD

---

## Description

Implement the context injection mechanism that transforms alert data into natural language prompts for the Orchestrator.

## Acceptance Criteria

- [ ] Context injection builds natural language prompt from alert:
  - [ ] Includes entity ID (campaign_id or deal_id)
  - [ ] Includes issue type (formatted)
  - [ ] Includes alert details
- [ ] Prompt format: "Investigate {issue_type} for {entity_id}. {details}"
- [ ] Prompt sent to `main()` function as `cl.Message`
- [ ] Orchestrator routes appropriately based on prompt content
- [ ] Test end-to-end: alert â†’ action â†’ investigation â†’ agent response

## Related Files

- `src/interface/chainlit/handlers.py` (update `on_fix_alert()` function)

## Dependencies

- PNP-016 (Fix alert callback)

## Notes

Context injection is the bridge between alerts and agent investigations. See implementation plan section "4. Context Injection Handler" for details.

# PNP-016: Create @cl.action_callback("fix_alert") Handler

**Status**: ðŸ”´ To Do  
**Phase**: Phase 4 - Action Callbacks  
**Priority**: High  
**Assignee**: TBD

---

## Description

Create action callback handler for "Fix Issue" button that triggers agent investigation.

## Acceptance Criteria

- [ ] Function `on_fix_alert(action: cl.Action)` exists in `handlers.py`
- [ ] Decorated with `@cl.action_callback("fix_alert")`
- [ ] Extracts alert payload from action
- [ ] Sends acknowledgment message ("âœ… Investigating...")
- [ ] Builds context-injected prompt from alert data
- [ ] Calls `main()` with context-injected message to trigger investigation
- [ ] Removes action buttons after handling (`await action.remove()`)
- [ ] Logs investigation trigger events

## Related Files

- `src/interface/chainlit/handlers.py` (add new function)

## Dependencies

- PNP-013 (Payload attachment)
- PNP-018 (Context injection implementation)

## Notes

This callback is the key to proactive notifications - it transforms alert clicks into agent investigations. See implementation plan section "3. Action Callbacks" for details.

